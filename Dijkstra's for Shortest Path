#include <stdio.h>
#define INF 9999
#define MAX 100

int main() {
    int n, g[MAX][MAX], d[MAX], v[MAX], s, i, j, c, min, u;
    printf("Vertices: "); scanf("%d", &n);
    printf("Adjacency matrix (%d for no edge):\n", INF);
    for (i=0;i<n;i++)for(j=0;j<n;j++)scanf("%d",&g[i][j]);
    printf("Source: "); scanf("%d", &s);

    for(i=0;i<n;i++){d[i]=g[s][i];v[i]=0;}
    d[s]=0;v[s]=1;

    for(c=1;c<n;c++){
        min=INF;u=-1;
        for(i=0;i<n;i++) if(!v[i]&&d[i]<min){min=d[i];u=i;}
        if(u==-1)break;
        v[u]=1;
        for(i=0;i<n;i++)
            if(!v[i]&&g[u][i]!=INF&&d[u]+g[u][i]<d[i])
                d[i]=d[u]+g[u][i];
    }

    printf("\nShortest distances from %d:\n", s);
    for(i=0;i<n;i++) printf("To %d : %d\n", i, d[i]);
}







