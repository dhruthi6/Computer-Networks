#include <stdio.h>
#define INF 9999
#define N 10

int main() {
    int n, g[N][N], d[N], v[N] = {0}, i, j, s, u, min;
    printf("Vertices: "); scanf("%d", &n);
    printf("Adjacency matrix (%d=no edge):\n", INF);
    for (i = 0; i < n; i++) for (j = 0; j < n; j++) scanf("%d", &g[i][j]);
    printf("Source: "); scanf("%d", &s);

    for (i = 0; i < n; i++) d[i] = g[s][i];
    d[s] = 0; v[s] = 1;

    for (i = 1; i < n; i++) {
        min = INF;
        for (j = 0; j < n; j++) if (!v[j] && d[j] < min) min = d[u = j];
        v[u] = 1;
        for (j = 0; j < n; j++)
            if (!v[j] && d[u] + g[u][j] < d[j]) d[j] = d[u] + g[u][j];
    }

    printf("\nShortest distances:\n");
    for (i = 0; i < n; i++) printf("To %d: %d\n", i, d[i]);
}
