#include <stdio.h>
#define MAX 10

int main() {
    int total, win, sent = 0, ack[MAX] = {0};
    printf("Total frames: "); scanf("%d", &total);
    printf("Window size: "); scanf("%d", &win);

    while (sent < total) {
        for (int i = 0; i < win && sent + i < total; i++)
            if (!ack[sent + i]) printf("Sent frame %d\n", sent + i);

        int r;
        printf("Received frame (-1 if lost): ");
        scanf("%d", &r);

        if (r >= 0 && r < total && !ack[r]) {
            printf("Ack for frame %d\n", r);
            ack[r] = 1;
        }

        while (sent < total && ack[sent]) sent++;
    }
    printf(" All frames sent & acknowledged!\n");
}
